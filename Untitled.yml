config:
    name: testcase description
    variables: {}
teststeps:
-   name: /cgi-bin/gettoken
    request:
        headers:
            User-Agent: python-requests/2.22.0
        method: GET
        params:
            corpid: ww49e0d1fa2a92fcd4
            corpsecret: yGKZP7grNAPyejnRqgpTquiv1vgiCVRL3lhWnD2Bktg
        url: https://qyapi.weixin.qq.com/cgi-bin/gettoken
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json; charset=UTF-8
    -   eq:
        - content.errcode
        - 0
    -   eq:
        - content.errmsg
        - ok
    -   eq:
        - content.access_token
        - hW35u5zC_e8yP-HfWWH2LhVPFZNlLo0XgdB5UIjUJF18OaEPSVYoZnpoLrc-kZk8pnpmFsrrU97bHUhwpoTGB4LBJWWxoNciL72rO75nkPJLTRTPwmKldm18Q9FxWD9K8hSXzTIHAfuUEwRcE9Ojiel9tCx9hMCVcv_4rMxkQqOCFoJuW2ni1AdZVbtCte7yyZLy7Pq7A0YcJjvthE6OcA
    -   eq:
        - content.expires_in
        - 7200
-   name: /cgi-bin/department/create
    request:
        headers:
            User-Agent: python-requests/2.22.0
            content-type: application/json; charset=utf-8
        json:
            id: null
            name: 子部门234152
            order: 1
            parentid: 2
        method: POST
        params:
            access_token: hW35u5zC_e8yP-HfWWH2LhVPFZNlLo0XgdB5UIjUJF18OaEPSVYoZnpoLrc-kZk8pnpmFsrrU97bHUhwpoTGB4LBJWWxoNciL72rO75nkPJLTRTPwmKldm18Q9FxWD9K8hSXzTIHAfuUEwRcE9Ojiel9tCx9hMCVcv_4rMxkQqOCFoJuW2ni1AdZVbtCte7yyZLy7Pq7A0YcJjvthE6OcA
        url: https://qyapi.weixin.qq.com/cgi-bin/department/create
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json; charset=UTF-8
    -   eq:
        - content.errcode
        - 0
    -   eq:
        - content.errmsg
        - created
    -   eq:
        - content.id
        - 21
-   name: /cgi-bin/department/list
    request:
        headers:
            User-Agent: python-requests/2.22.0
        method: GET
        params:
            access_token: hW35u5zC_e8yP-HfWWH2LhVPFZNlLo0XgdB5UIjUJF18OaEPSVYoZnpoLrc-kZk8pnpmFsrrU97bHUhwpoTGB4LBJWWxoNciL72rO75nkPJLTRTPwmKldm18Q9FxWD9K8hSXzTIHAfuUEwRcE9Ojiel9tCx9hMCVcv_4rMxkQqOCFoJuW2ni1AdZVbtCte7yyZLy7Pq7A0YcJjvthE6OcA
            id: '0'
        url: https://qyapi.weixin.qq.com/cgi-bin/department/list
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json; charset=UTF-8
    -   eq:
        - content.errcode
        - 0
    -   eq:
        - content.errmsg
        - ok
